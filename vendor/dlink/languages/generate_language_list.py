#!/usr/bin/python

import sys

LANGUAGES = []

def generate_header():
    """генерируем шапку файла"""
    print('# generate_language_list.py generated file: DO NOT EDIT!')
    print('# generated by command "python generate_language_list.py > Config.in"')
    print()
    print('menu "Languages"')
    print()

def generate_footer():
    """генерируем нижнюю часть файла"""
    print('endmenu')

def generate_choice():
    """генерируем choice для выбора языка по умолчанию"""
    print('choice')
    print('\tprompt "Language by default"')
    print('\tdefault BR2_DEFAULT_LANGUAGE_RUS if BR2_LANGUAGE_RUS')
    print('\tdefault BR2_DEFAULT_LANGUAGE_ENG if BR2_LANGUAGE_ENG')
    print()

    for language in LANGUAGES:
        name = language["name"]
        iso = language["iso_code"]
        upper_iso = iso.upper()
        print('config BR2_DEFAULT_LANGUAGE_{}'.format(upper_iso))
        print('\tbool "{}"'.format(name))
        print('\tdepends on BR2_LANGUAGE_{}'.format(upper_iso))
    print()
    print('endchoice')
    print()
    print('config BR2_DEFAULT_LANGUAGE')
    print('\tstring')

    for language in LANGUAGES:
        iso = language["iso_code"]
        upper_iso = iso.upper()
        print('\tdefault "{}" if BR2_DEFAULT_LANGUAGE_{}'.format(iso, upper_iso))
    print()


def generate_language_list():
    """генерируем список языков"""

    for language in LANGUAGES:
        name = language["name"]
        iso = language["iso_code"]
        is_default = language["default"]
        upper_iso = iso.upper()
        print('config BR2_LANGUAGE_{}'.format(upper_iso))
        print('\tbool "{}"'.format(name))
        if is_default:
            print('\tdefault y')

        print()
        print('config BR2_LANGUAGE_{}_WRAP'.format(upper_iso))
        print('\tstring')
        print('\tdefault "{}" if BR2_LANGUAGE_{}'.format(iso, upper_iso))
        print()

def add_language(iso_code, name, default=False):
    """добавляет язык в массив языков на генерацию Config.in файла"""
    LANGUAGES.append({"iso_code": iso_code, "name": name, "default": default})


add_language('ara', 'Arabic')
add_language('chs', 'Chinese (Simplified)')
add_language('cht', 'Chinese (Traditional)')
add_language('eng', 'English', True)
add_language('eus', 'Basque')
add_language('fas', 'Persian')
add_language('fra', 'French')
add_language('heb', 'Hebrew')
add_language('ita', 'Italian')
add_language('kaz', 'Kazakh')
add_language('kor', 'Korean')
add_language('lit', 'Lithuanian')
add_language('por', 'Portuguese')
add_language('rus', 'Russian', True)
add_language('spa', 'Spanish')
add_language('tat', 'Tatar')
add_language('tur', 'Turkish')
add_language('ukr', 'Ukrainian')

generate_header()
generate_choice()
generate_language_list()
generate_footer()

"use strict";!function(){var nw=angular.module(regdep("nw-help-funcs"),[]);nw.directive("nwClickAnywhere",function($document){return{restrict:"A",link:function(scope,elem,attr){elem.bind("click",function(e){e.stopPropagation()}),$document.bind("click",function(){scope.$apply(attr.clickAnywhere),angular.element(elem).css("display","none")})}}}),nw.directive("nwClickClearInput",function(){return{restrict:"A",link:function(scope,elem){elem.bind("focus",function(){angular.element(elem).val()==angular.element(elem).attr("title")&&angular.element(elem).val("")}),elem.bind("blur",function(){angular.element(elem).val(angular.element(elem).attr("title"))})}}}),nw.directive("nwSetFocus",function($timeout){return{restrict:"A",link:function($scope,$element,$attrs){$attrs.$observe("nwSetFocus",function(){(""==$attrs.nwSetFocus||"true"==$attrs.nwSetFocus)&&$timeout(function(){$element[0].focus()},0)})}}}),nw.directive("nwBindHtmlCompile",["$compile",function($compile){return{restrict:"A",link:function($scope,$element,$attrs){$scope.$watch(function(){return $scope.$eval($attrs.nwBindHtmlCompile)},function(value){/(xn--)/.test(value)&&(value=value.replace(/(xn--\w+)/,function(str){return punycode.toUnicode(str)})),$element.html(value&&value.toString());var compileScope=$scope;$attrs.bindHtmlScope&&(compileScope=$scope.$eval($attrs.bindHtmlScope)),$compile($element.contents())(compileScope)})}}}]),nw.directive("nwOptionsClass",function(){return{require:"select",link:function($scope,$element,$attrs){var optionsSourceStr=$attrs.ngOptions.split(" ").pop();$scope.$watch(optionsSourceStr,function(items){angular.forEach(items,function(item,index){var optionClass=$scope.$eval($attrs.nwOptionsClass,{option:item,index:index}),$option=angular.element($element.find("option")[index]),classes=optionClass.split(" ");angular.forEach(classes,function(className){$option.addClass(className)})})})}}}),nw.directive("nwEnterBind",["$document",function(){return{restrict:"A",link:function($scope,$element,$attrs){document.onkeydown=function($event){13===$event.which&&($scope.$apply(function(){$scope.$eval($attrs.nwEnterBind)}),$event.preventDefault())},$scope.$on("$destroy",function(){document.onkeydown=null})}}}]),nw.directive("nwNotDirty",function(){return{restrict:"A",require:"ngModel",link:function(scope,elm,attrs,ctrl){ctrl.$pristine=!1}}})}();
"use strict";!function(){var getMobileApp=angular.module(regdep("nw-get-mobile-app"),[]),appleDefault="en-us";getMobileApp.constant("langIndex",{eng:{android:"en",ios:"en-us"},rus:{android:"ru",ios:"ru-ru"},ukr:{android:"ua",ios:appleDefault},heb:{android:"iw",ios:appleDefault},tur:{android:"tr",ios:"tr-tr"},arm:{android:"hy",ios:appleDefault},fra:{android:"fr",ios:"fr-fr"},ara:{android:"ar",ios:appleDefault},fas:{android:"fa",ios:appleDefault},kaz:{android:"kk",ios:appleDefault},lit:{android:"lt",ios:appleDefault},kor:{android:"ko",ios:"ko-kr"},ger:{android:"de",ios:"de-de"},spa:{android:"es",ios:"es-es"},por:{android:"pt",ios:"pt-pt"},ita:{android:"it",ios:"it-it"},chs:{android:"zh-cn",ios:"zh-cn"},cht:{android:"zh-tw",ios:"zh-tw"},afr:{android:"af",ios:appleDefault},alb:{android:"sq",ios:appleDefault},amh:{android:"am",ios:appleDefault},aze:{android:"az",ios:appleDefault},eus:{android:"eu",ios:appleDefault},bel:{android:"be",ios:appleDefault},bos:{android:"bs",ios:appleDefault},ben:{android:"bn",ios:appleDefault},bul:{android:"bg",ios:appleDefault},bur:{android:"my",ios:appleDefault},cat:{android:"ca",ios:appleDefault},cro:{android:"hr",ios:appleDefault},cze:{android:"cs",ios:appleDefault},dan:{android:"da",ios:"da-dk"},dut:{android:"nl",ios:appleDefault},est:{android:"et",ios:appleDefault},fil:{android:"fil",ios:appleDefault},fin:{android:"fi",ios:"fi-fi"},gal:{android:"gl",ios:appleDefault},geo:{android:"ka",ios:appleDefault},gre:{android:"el",ios:appleDefault},hin:{android:"hi",ios:appleDefault},hun:{android:"hu",ios:appleDefault},ice:{android:"is",ios:appleDefault},ind:{android:"id",ios:"id-id"},jap:{android:"ja",ios:"ja-jp"},kan:{android:"kn",ios:"fr-ca"},kyr:{android:"ky",ios:appleDefault},lat:{android:"lv",ios:appleDefault},mac:{android:"mk",ios:appleDefault},mon:{android:"mn",ios:appleDefault},nep:{android:"ne",ios:appleDefault},nor:{android:"no",ios:"no-no"},pol:{android:"pl",ios:appleDefault},rom:{android:"ro",ios:appleDefault},ser:{android:"sr",ios:appleDefault},slo:{android:"sk",ios:appleDefault},swe:{android:"sv",ios:"sv-se"},vie:{android:"vi",ios:"vi-vn"}}),getMobileApp.directive("nwGetMobileApp",["translate","langIndex","$rootScope",function(translate,langIndex,$rs){return{restrict:"A",controller:"getMobileController",scope:{utmCampaign:"@",utmSource:"@",nwGetAppText:"="},link:function(scope,element){function init(){element.empty(),element.css("display","none");var androidBadge=getAndroidBadge(),iosBadge=getIosBadge(),text=angular.element("<div></div>");text.text(scope.nwGetAppText),element.append(text),element.append(iosBadge),element.append(androidBadge)}function getCurrentLang(){var currentLang=translate.getLang();return"undefined"!=typeof langIndex[currentLang]?langIndex[currentLang]:langIndex.eng}function checkIsNeedShowGetMobileApp(){var userAgent=navigator.userAgent;return isAndroid=!!function(){return userAgent.match(/Android/i)}(),isIos=!!function(){return userAgent.match(/like Mac OS X/i)&&userAgent.match(/Mobile/i)}(),isDesktop=!!function(){return userAgent.match(/Windows NT/i)||userAgent.match(/Linux/i)&&!userAgent.match(/Android/i)||userAgent.match(/Macintosh/i)}(),isMobileApp="undefined"!=typeof window.dlinkMobileApp||/DRCU\/IOS/i.test(navigator.userAgent),{main:(isAndroid||isDesktop||isIos)&&!isMobileApp,isAndroid:isAndroid,isIos:isIos,isDesktop:isDesktop}}function getAndroidBadge(){var imgHref="https://play.google.com/intl/en_us/badges/images/generic/"+getCurrentLang().android+"_badge_web_generic.png",utm_source=scope.utmSource?"&utm_source="+scope.utmSource:"",utm_campaign=scope.utmCampaign?"&utm_campaign="+scope.utmCampaign:"",img=angular.element('<img class="googlePlay-badge-img">');img.attr("src",imgHref),img.attr("style","width: 170px; margin: 0px 5px"),img[0].onload=scope.onloadAndroidImg.bind(element);var a=angular.element("<a></a>");return a.attr("href","https://play.google.com/store/apps/details?id=ru.dlink.drcu"+utm_source+utm_campaign+"&pcampaignid=MKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1"),a.css("display",checkShow.isAndroid||checkShow.isDesktop?"inline-block":"none"),a.append(img),a}function getIosBadge(){var imgHref="https://linkmaker.itunes.apple.com/"+getCurrentLang().ios+"/badge-lrg.svg?releaseDate=2016-03-10&kind=iossoftware&bubble=ios_apps",a=angular.element("<a></a>"),img=angular.element('<img class="appStore-badge-img">');return img.attr("src",imgHref),img.attr("style","width: 147px; padding-bottom: 11px; margin-top: 10px; margin-left: 5px; margin-right: 5px"),img[0].onload=scope.onloadIosImg.bind(element),a.attr("href","https://itunes.apple.com/ru/app/d-link-assistant/id1342564878?mt=8"),a.css("display",checkShow.isIos||checkShow.isDesktop?"inline-block":"none"),a.append(img),a}var checkShow=checkIsNeedShowGetMobileApp();if(!checkShow.main)return void element.remove();init(),$rs.$on("changelang",function(){init()});var isAndroid=null,isDesktop=null,isMobileApp=null,isIos=null}}}]),getMobileApp.controller("getMobileController",["$scope",function($scope){var isAndroidLoad=!1,isIosLoad=!1;$scope.onloadAndroidImg=function(){isAndroidLoad=!0,isIosLoad&&this.css("display","block")},$scope.onloadIosImg=function(){isIosLoad=!0,isAndroidLoad&&this.css("display","block")}}])}();
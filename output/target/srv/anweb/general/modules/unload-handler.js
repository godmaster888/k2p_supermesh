"use strict";!function(){var unload=angular.module(regdep("unloadHandler"),[]);unload.service("unloadHandler",function(){var handlers={before:[],unload:[]};window.onbeforeunload=function(e){"undefined"==typeof e&&(e=window.event);var msg="";return handlers.before.forEach(function(handler){msg+=handler(e)||""}),msg?(e&&(e.returnValue=msg),msg):void 0},window.onunload=function(e){"undefined"==typeof e&&(e=window.event);var msg="";return handlers.unload.forEach(function(handler){msg+=handler(e)||""}),msg?(e&&(e.returnValue=msg),msg):void 0},this.add=function(handler){handlers.unload.some(function(h){return h==handler})||handlers.unload.push(handler)},this.remove=function(handler){handlers.unload=handlers.unload.filter(function(h){return h!=handler})},this.clean=function(){handlers.unload=[]},this.before={add:function(handler){handlers.before.some(function(h){return h==handler})||handlers.before.push(handler)},remove:function(handler){handlers.before=handlers.before.filter(function(h){return h!=handler})},clean:function(){handlers.before=[]}}})}();
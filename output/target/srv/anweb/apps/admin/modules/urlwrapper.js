"use strict";!function(){angular.module("app").directive("urlWrapper",["$location",function($location){return{restrict:"A",require:"ngModel",link:function($scope,$element,$attrs,$model){function needUpdateFavicon(){return stopWatching}function updateFavicon(){var path,url=$model.$viewValue,style={};url?(style.display="block",path=$location.protocol()+"://"+url+"/favicon.ico",style.background="url('"+path+"') no-repeat center center",style["background-size"]="contain",style.bottom="10px",style.height="16px",style.right="35px",style.width="16px"):style.display="none",$btn.css(style)}var $parent=$element.parent(),$btn=angular.element('<i class="url_favicon noselect"></i>'),stopWatching=!1;$parent.addClass("url_wrapper"),$parent.prepend($btn),$element.bind("focus",function(){stopWatching=!0}),$element.bind("blur",function(){stopWatching=!1}),$scope.$watch(needUpdateFavicon,updateFavicon),updateFavicon()}}}])}();
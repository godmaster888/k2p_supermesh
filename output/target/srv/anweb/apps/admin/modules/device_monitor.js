"use strict";!function(){var modname="device-monitor";window.appDeps.push(modname),angular.module(modname,["deviceAvailable"]).config(["deviceAvailableProvider",function(da){var __notAvailableCallback=function($rs,overlay,c){$rs.deviceMonitor.availability=!1;var config=$rs.deviceMonitorConfig,count=c||1,possiblyLostThreshold=config.possiblyLostThreshold&&config.possiblyLostThreshold>0?config.possiblyLostThreshold:1/0,haveDefinitelyLostThreshold=config.definitelyLostThreshold&&config.definitelyLostThreshold>0,definitelyLostThreshold=haveDefinitelyLostThreshold?config.definitelyLostThreshold:1/0;count>=possiblyLostThreshold&&(count>=definitelyLostThreshold?(da.getNotAvailableCountCallback=null,$rs.$emit("device_definitly_lost"),overlay.start("static")):($rs.$emit("device_possibly_lost",{count:count}),overlay.start(haveDefinitelyLostThreshold?"icon":"icon")))},notAvailableCountCallback=["$rootScope","overlay-not-available","deviceNotAvailableCount",__notAvailableCallback];da.getNotAvailableCallback=["$rootScope","overlay-not-available",__notAvailableCallback],da.getNotAvailableCountCallback=notAvailableCountCallback,da.getAvailableAgainCallback=["$rootScope","overlay-not-available","overlay-progress",function($rs,overlay,overlayProgress){da.getNotAvailableCountCallback=notAvailableCountCallback,$rs.$emit("device_available_again"),$rs.deviceMonitor.availability=!0,overlay.stop(),$rs.fwUpgradeStatus&&($rs.fwUpgradeStatus=!1,overlayProgress.stop())}]}]).run(["$rootScope","deviceAvailable",function($rs,da){$rs.deviceMonitorConfig={possiblyLostThreshold:1,definitelyLostThreshold:3,baseUrl:""},$rs.deviceMonitor={availability:!0},$rs.$watch("deviceMonitorConfig.baseUrl",function(newValue){da.cors(newValue)})}])}();
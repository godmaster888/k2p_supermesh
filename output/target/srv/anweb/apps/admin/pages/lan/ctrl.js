"use strict";!function(){angular.module("app").controller("lanCtrl",["$scope","$state","$q","lanHelper",function($scope,$state,$q,helper){function fetch(){var deferred=$q.defer();return pull().then(function(){deferred.resolve()},function(){$state.go("error",{code:"msg_pull_error",message:"msg_error_desc"}),deferred.reject()}),deferred.promise}function pull(){var deferred=$q.defer();return lan.pull(function(error){return error?void deferred.reject("pull"):void deferred.resolve()},supported),deferred.promise}$scope.device;var lan=$scope.device.lan,supported=helper.supported.lan();$scope.lan={data:null,interfaceCount:0},$scope.lan.isPageLoad=!1,$scope.$on("$destroy",function(){lan["interface"].clean()}),function(){fetch().then(function(){lan["interface"].init(),$scope.lan.data=lan.data(),$scope.lan.interfaceCount=_.size($scope.lan.data),$scope.lan.isPageLoad=!0,$scope.$emit("pageload",{title:"LAN"})})}()}])}();
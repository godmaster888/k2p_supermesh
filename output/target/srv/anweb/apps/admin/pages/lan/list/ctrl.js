"use strict";!function(){angular.module("app").controller("lanListCtrl",["$scope","$state","$q","translate","device","lanHelper",function($scope,$state,$q,translate,device,helper){$scope.lan.ifacesInfo={supported:helper.supported.lan(),list:null,add:function(){$state.go("network.lanInterface.add")},edit:function(elem){$state.go("network.lanInterface.edit",{inx:elem.__id})},getShort:function(elem){var result=[];return elem.ipv4&&result.push("IPv4: "+elem.ipv4),elem.ipv6&&result.push("IPv6: "+elem.ipv6),result},disableCreateNewInterface:function(){var list=device.lan["interface"].list();return _.every(list,function(elem){return!elem.__isNewInterface})},hideCreateNewInterface:function(){return!info.supported.SUPPORT_MULTI_LAN}};var info=$scope.lan.ifacesInfo;info.list=function(){function makeIPList(elem,version){var ip=elem[version];return ip&&ip.StaticIP&&_.size(ip.StaticIP)?_.map(ip.StaticIP,function(obj){var result=obj.Address?obj.Address:"-";return result+="/",result+=obj.SubnetMask||obj.Prefix?obj.SubnetMask||obj.Prefix:"-"}):"-"}var list=device.lan["interface"].list();return _.chain(list).map(function(elem,id){var result={};return result.__id=id,result.__isNewInterface=elem.__isNewInterface,result.name=elem.Name,info.supported.IPv4&&(result.ipv4=makeIPList(elem,"IPv4")),info.supported.IPv6&&(result.ipv6=makeIPList(elem,"IPv6")),result}).filter(function(elem){return!elem.__isNewInterface}).value()}()}])}();
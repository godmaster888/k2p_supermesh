"use strict";!function(){angular.module("app").controller("lanDHCPPortsCtrl",["$scope","lanPortsDHCP","funcs",function($scope,util,funcs){function init(){util.pull().then(function(){dhcpPorts.ports=util.getData(),dhcpPorts.dhcp.length=0,_.each(dhcpPorts.ports,function(port,inx){return port.EnableDHCP?void dhcpPorts.dhcp.push({key:inx,item:port}):!1}),initData=funcs.deepClone(dhcpPorts.dhcp)})}function isChange(){function getKeys(list){return _.chain(list).map(function(item){return item.item.__key}).sortBy().value()}return initData&&!_.isEqual(getKeys(initData),getKeys(dhcpPorts.dhcp))}function updateEnableDHCP(){_.each(dhcpPorts.ports,function(port){port.EnableDHCP=_.some(dhcpPorts.dhcp,function(item){return item.item.__key==port.__key})})}$scope.lanForm.dhcpPorts={ports:null,dhcp:[],apply:function(){updateEnableDHCP(),util.apply(dhcpPorts.ports).then(function(){init()})},isChange:isChange};var dhcpPorts=$scope.lanForm.dhcpPorts,initData=null;init()}])}();
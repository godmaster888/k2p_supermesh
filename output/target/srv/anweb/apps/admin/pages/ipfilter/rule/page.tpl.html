<div class="main-card"><form name="form" class="css-form" novalidate nw-form ng-submit="ipfilter.apply()" unsaved-warning-form unsaved-backup-status="{{!ipfilter.wasModified()}}"><div class="card-content"><div class="row-grid bottom-space"><div class="col-md-6 block-left"><div class="card-title" ng-bind="'general_settings' | translate"></div><div nw-labeled-switch nw-label="act_enable_it?name=ipflt_rule" nw-model="ipfilter.rule.state" ng-if="ipfilter.isSupported('state')" nw-disabled="customRules.DisableIPFilterEnable || useSchedule"></div><div ng-if="useSchedule" class="alert-block" alert="info">{{'sched_use' | translate}}</div><div nw-field nw-label="name" nw-required ng-if="ipfilter.isSupported('name')" nw-disabled="customRules.DisableIPFilterName"><input ng-model="ipfilter.rule.name" nw-name></div><div class="note description" ng-if="ipfilter.isSupported('name')"><span>{{ 'name_description' | translate }} 32</span></div><div nw-field nw-label="action" ng-if="ipfilter.isSupported('action')" nw-disabled="customRules.DisableIPFilterAction"><select ng-model="ipfilter.rule.action" ng-options="option.value as (option.name | translate) for option in ipfilter.getActionList()"></select></div><div nw-field nw-label="protocol" ng-if="ipfilter.isSupported('proto')" nw-disabled="customRules.DisableIPFilterProtocol"><select ng-model="ipfilter.rule.proto" ng-options="option.value as (option.name | translate) for option in ipfilter.getProtocolList()"></select></div><div nw-field nw-label="{{ {lang: 'version_of', name: 'IP', abr: 'name'} | translate }}" ng-if="ipfilter.isSupported('is_ipv6')" nw-disabled="customRules.DisableIPFilterIPVersion"><select ng-model="ipfilter.ipversion" ng-options="option.value as (option.name | translate) for option in ipfilter.getIPVersionList()" ng-change="ipfilter.changeIPVersion(ipfilter.ipversion)"></select></div><div nw-field nw-label="direction" ng-if="ipfilter.isSupported('direction')"><select ng-model="ipfilter.rule.direction" ng-options="option.value as (option.name | translate) for option in ipfilter.getDirectionList()"></select></div></div><div class="col-md-6 block-right"><div class="card-title" ng-bind="'source_of?name=ip_address&abr=name' | translate"></div><div class="note" ng-bind="ipfilter.getNoteExampleIp() | translate"></div><div ng-if="!ipfilter.loading && !autoconf.BR2_PACKAGE_ANWEB_IP_FILTER_DENY_IP_RANGE" nw-ip-range="ipfilter.ip.source" nw-ip-range-version="{{ipfilter.ipversion}}" nw-ip-start-plagin="nwClientList" nw-ip-start-label="{{ ('range_start' | translate) + ' ' +(ipfilter.ipversion == 'ipv4' ? ('ipv4_address' | translate) : ('ipv6_address' | translate) )}}" nw-ip-end-label="{{ ('range_end' | translate) + ' ' +(ipfilter.ipversion == 'ipv4' ? ('ipv4_address' | translate) : ('ipv6_address' | translate) )}}" nw-ip-subnet-label="{{ipfilter.ipversion == 'ipv4' ? 'ipv4_subnet_address': 'ipv6_subnet_address'}}" nw-disabled="customRules.DisableIPFilterSourceIPRange"></div></div></div><div class="row-grid"><div class="col-md-6 block-left"><div class="card-title" ng-bind="'dest_of?name=ip_address&abr=name' | translate"></div><div class="note" ng-bind="ipfilter.getNoteExampleIp() | translate"></div><div ng-if="!ipfilter.loading && !autoconf.BR2_PACKAGE_ANWEB_IP_FILTER_DENY_IP_RANGE" nw-ip-range="ipfilter.ip.destination" nw-ip-range-version="{{ipfilter.ipversion}}" nw-ip-start-label="{{ ('range_start' | translate) + ' ' +(ipfilter.ipversion == 'ipv4' ? ('ipv4_address' | translate) : ('ipv6_address' | translate) )}}" nw-ip-start-plagin="nwClientList" nw-ip-end-label="{{ ('range_end' | translate) + ' ' +(ipfilter.ipversion == 'ipv4' ? ('ipv4_address' | translate) : ('ipv6_address' | translate) )}}" nw-ip-subnet-label="{{ipfilter.ipversion == 'ipv4' ? 'ipv4_subnet_address': 'ipv6_subnet_address'}}" nw-disabled="customRules.DisableIPFilterDestinationIPRange"></div></div><div class="col-md-6 block-right"><div class="card-title" ng-bind="'ports' | translate"></div><div class="note" ng-bind="'ipflt_port_note' | translate"></div><div nw-field nw-label="dest_port" ng-if="ipfilter.isSupported('portd')" nw-disabled="ipfilter.isDisabled('portd') || customRules.DisableIPFilterPortD"><input ng-model="ipfilter.rule.portd" nw-custom-valid="ipfilter.validation(value, 'portd')"></div><div nw-labeled-switch nw-label="ipflt_manual_source_port" nw-model="ipfilter.manualSrcPort" nw-change="ipfilter.onAutoSrcPortChange()" ng-if="ipfilter.isSupported('ports')" nw-disabled="customRules.DisableIPFilterPortS" class="align-bottom"></div><div nw-field nw-label="source_port" ng-if="ipfilter.isSupported('ports') && ipfilter.manualSrcPort" nw-disabled="ipfilter.isDisabled('source_port') || customRules.DisableIPFilterPortS"><input ng-model="ipfilter.rule.ports" nw-custom-valid="ipfilter.validation(value, 'ports')"></div></div></div></div><div class="card-action"><button type="button" ng-if="ipfilter.action == 'edit'" ng-click="ipfilter.remove()" ng-bind="'act_delete' | translate" ng-hide="customRules.DisableIPFilterDelete"></button> <button type="submit" class="colored" ng-disabled="ipfilter.action == 'edit' && !ipfilter.wasModified()" ng-bind="'act_apply' | translate"></button></div></form></div>
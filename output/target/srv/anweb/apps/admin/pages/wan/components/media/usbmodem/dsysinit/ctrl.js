"use strict";angular.module("app").controller("WanMediaUsbModemCtrl",["$scope","$state","translate","ngDialog",function($scope,$state,translate,ngDialog){$scope.excludedSymbolsUserPass='"',$scope.selectModem=function(){var dlg=ngDialog.open({template:"/admin/dialogs/wan_modem_select/dialog.tpl.html",controller:"WANModemSelectCtrl"});dlg.closePromise.then(function(res){if(res&&res.value){var splitModem,input=res.value.data;input.Link?($scope.conn.SIM=input.Link,$scope.conn.SIMName=input.Modem+" "+input.SIMName+" "+input.IMSI,splitModem=input.Link.split(" "),$scope.conn.Modem=splitModem[0],$scope.conn.ActiveSIM=input.ActiveSIM,$scope.conn.ModemName=input.Modem):($scope.conn.Modem="",$scope.conn.ActiveSIM="")}})},$scope.changeVersion=function(){"IPv6"==$scope.conn.Version&&($scope.conn.Flags.NAT=!1,$scope.conn.Flags.NATHide=!0),"IPv4"==$scope.conn.Version&&($scope.conn.Flags.NATv6=!1,$scope.conn.Flags.NATv6Hide=!0),$scope.conn.InterfaceOnly||("IPv6"!=$scope.conn.Version&&($scope.conn.Flags.NATHide&&($scope.conn.Flags.NAT=!0),$scope.conn.Flags.NATHide=!1),"IPv4"!=$scope.conn.Version&&($scope.conn.Flags.NATv6Hide&&($scope.conn.Flags.NATv6=!0),$scope.conn.Flags.NATv6Hide=!1))},$scope.changeRealConnState=function(){$scope.conn.InterfaceOnly?($scope.conn.Flags.NAT=!1,$scope.conn.Flags.NATHide=!0,$scope.conn.Flags.Ping=!1,$scope.conn.Flags.PingHide=!0,$scope.conn.Flags.NATv6=!1,$scope.conn.Flags.NATv6Hide=!0):("IPv6"!=$scope.conn.Version&&($scope.conn.Flags.NATHide&&($scope.conn.Flags.NAT=!0),$scope.conn.Flags.NATHide=!1),"IPv4"!=$scope.conn.Version&&($scope.conn.Flags.NATv6Hide&&($scope.conn.Flags.NATv6=!1),$scope.conn.Flags.NATv6Hide=!1),$scope.conn.Flags.PingHide=!1)},$scope.getUSBIfaceNote=function(){var href=$scope.pageDetails.vlan[0].url;return translate("wan_usb_interface_only_note",{link:"<a href='"+href+"'>VLAN</a>",trustAsHtml:!0})},$scope.validDialNumber=function(value){return value.length>16?"msg_input_lenght_more_max":null}}]);
<div class="main-card"><form name="ntpSettings" ng-submit="systemTime.apply()" nw-form unsaved-warning-form unsaved-backup-status="{{!systemTime.wasModified()}}" class="page_ntp"><div class="card-content"><div class="row-grid bottom-space"><div class="col-md-12"><div class="card-title" ng-bind="'ntp_time' | translate"></div><div class="card-desc" ng-bind="'ntp_nav_desc' | translate"></div></div></div><div class="row-grid"><div class="col-md-12"><div class="col-md-6 block-left padding-right"><div nw-labeled-switch nw-label="ntp_enable" nw-model="systemTime.data.ntp.Enable" nw-disabled="customRules.DisableNTP" ng-hide="customRules.HideNTP"></div><div nw-labeled-switch nw-label="ntp_saving_time" nw-model="systemTime.data.ntp.DST" ng-if="systemTime.isSupportedNtp('DST')" nw-disabled="customRules.DisableNTPDST || !systemTime.data.ntp.Enable"></div><div nw-labeled-switch nw-label="ntp_use_dhcp" nw-model="systemTime.data.ntp.DHCPServers" ng-if="systemTime.isSupportedNtp('DHCPServers')" nw-disabled="customRules.DisableNTPUseDHCP || !systemTime.data.ntp.Enable"></div><div nw-labeled-switch nw-label="ntp_use_local_server" nw-model="systemTime.data.ntp.NTPServer" ng-if="systemTime.isSupportedNtp('NTPServer')" nw-disabled="customRules.DisableNTPRunAsServer || !systemTime.data.ntp.Enable" ng-hide="customRules.HideNTPRunAsServer"></div><div id="sys_dateTime_block" class="padding_left {{checkFirefoxVersion()}}"><div class="row nw-static"><span class="title">{{'ntp_date' | translate}}:</span> <span class="info">{{systemTime.timeStamp | date: 'dd.MM.yyyy'}}</span></div><div class="row nw-static {{ systemTime.isSupportedNtp('Sync') && systemTime.data.ntp.Enable ? '' : 'last' }}"><span class="title">{{'ntp_time' | translate}}:</span> <span class="info">{{systemTime.timeStamp | date: 'HH:mm'}}</span></div><div class="row nw-static last" ng-if="systemTime.isSupportedNtp('Sync') && systemTime.data.ntp.Enable"><span class="title">{{'wifi_supermesh_synchronized' | translate}}:</span> <span class="info">{{(systemTime.data.ntp.Sync ? 'wifi_supermesh_synchronized_yes' : 'wifi_supermesh_synchronized_no') | translate}}</span></div></div><div class="changing_list margin-top-time-server padding" ng-show="!systemTime.data.ntp.DHCPServers"><div class="card-subtitle" ng-bind="'ntp_servers' | translate"></div><div class="input_with_action" ng-repeat="(inx, elem) in systemTime.data.ntp.Servers track by inx"><div nw-field nw-disabled="customRules.DisableNTPServers"><input ng-model="elem.address" nw-type="host" placeholder="{{'ntp_example' | translate}}" nw-set-focus="{{systemTime.focus == true}}" nw-not-cyrillic-char id="input_ntp_server" class="under_cross" nw-custom-valid="systemTime.validation(elem.address, elem.__id)" ng-if="!autoconf.BR2_PACKAGE_ANWEB_DSYSINIT || !elem.isDynamic"></div><div class="input_action" ng-click="systemTime.removeServer(inx)" ng-hide="customRules.DisableNTPServers" ng-if="!autoconf.BR2_PACKAGE_ANWEB_DSYSINIT || !elem.isDynamic">Ã—</div></div><div class="button_block right"><input type="button" ng-click="systemTime.addServer()" value="{{'act_add_server' | translate}}" class="colored flat margin" ng-disabled="customRules.DisableNTPServers"></div></div><div class="changing_list margin-top-time-server padding" ng-show="autoconf.BR2_PACKAGE_ANWEB_DSYSINIT &&  systemTime.data && systemTime.data.ntp.DHCPServers && systemTime.isDynamicCheck()"><div class="card-subtitle" ng-bind="'ntp_servers' | translate"></div><div class="input_with_action" ng-repeat="(inx, elem) in systemTime.data.ntp.Servers track by inx"><div nw-field><input ng-model="elem.address" nw-type="host" id="input_ntp_server" class="under_cross" readonly ng-if="elem.isDynamic"></div></div></div></div><div class="col-md-6 block-right"><div ng-if="systemTime.data.ntp.Enable"><div nw-field nw-label="ntp_poll_interval"><select ng-model="systemTime.data.ntp.PollInterval" ng-options="option.value as (option.name | translate) for option in systemTime.options.pollInterval"></select></div><div nw-field nw-label="ntp_retry_interval"><select ng-model="systemTime.data.ntp.RetryType" ng-options="option.value as (option.name | translate) for option in systemTime.options.retryInterval" ng-change="systemTime.changeRetryType()"></select></div><div nw-field nw-label="ntp_retry_interval_value" ng-if="autoconf.BR2_PACKAGE_ANWEB_DSYSINIT && systemTime.data.ntp.RetryType == 1"><input nw-number ng-model="systemTime.data.ntp.RetryInterval" nw-min="3"></div><div nw-field nw-field-no-validate="true" class="hide_label" nw-disabled="customRules.DisableNTPTimezone"><select ng-model="systemTime.data.TimeZoneIndex" ng-options="timezone.index as (systemTime.formatGMT(timezone.offset) + ' ' + (timezone.name | translate)) for timezone in systemTime.options.timezones"></select><div class="row timezones"><div class="col-md-3">{{ systemTime.formatGMT(systemTime.data.ntp.TimeZoneOffset) }}</div><div class="col-md-9"><div ng-repeat="timezone in systemTime.noteGMT(systemTime.data.ntp.TimeZoneOffset)">{{ timezone.name | translate }}</div></div></div></div></div><div class="col-md-12"><div class="button_block right"><button type="button" ng-click="systemTime.deteremineTimezone()" ng-if="systemTime.data.ntp.Enable" ng-disabled="customRules.DisableDeteremineTimezone" class="colored flat">{{'ntp_determine_timezone' | translate}}</button></div></div><div class="col-md-12"><div ng-if="systemTime.data.ntp.Enable && systemTime.data.ntp.DST"><div class="note description" ng-bind="'ntp_timezone_note' | translate"></div><div nw-field nw-field-no-validate="true" class="hide_label" nw-disabled="customRules.DisableNTPTimezone"><select ng-model="systemTime.data.DSTTimeZoneIndex" ng-options="timezone.index as (systemTime.formatGMT(timezone.offset) + ' ' + (timezone.name | translate)) for timezone in systemTime.options.DstTimezones"></select><div class="row timezones"><div class="col-md-3">{{ systemTime.formatGMT(systemTime.data.ntp.DSTTimeZoneOffset) }}</div><div class="col-md-9"><div ng-repeat="timezone in systemTime.noteGMT(systemTime.data.ntp.DSTTimeZoneOffset)">{{ timezone.name | translate }}</div></div></div></div></div></div><div ng-if="systemTime.data.ntp.Enable && systemTime.data.ntp.DST"><div class="col-md-12"><div class="card-subtitle margin-bottom-subtitle padding" ng-bind="'ntp_saving_time_begin' | translate"></div><div class="col-md-6 ntp_block"><div class="ntp_selectBox_block"><div nw-field nw-label="ntp_manual_month" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.StartMonth" ng-options="month as 'ntp_month_' + month | translate for month in systemTime.options.months track by month"></select></div></div><div class="ntp_selectBox_block" style="margin-left: 3%;"><div nw-field nw-label="ntp_week" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.StartWeek" ng-options="week as 'ntp_week_' + week | translate for week in systemTime.options.weeks track by week"></select></div></div></div><div class="col-md-6 ntp_block"><div class="ntp_selectBox_block"><div nw-field nw-label="ntp_week_day" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.StartWeekDays" ng-options="weekDay as weekDay.label | translate for weekDay in systemTime.options.weekDays track by weekDay.value"></select></div></div><div class="ntp_selectBox_block" style="margin-left: 3%;"><div nw-field nw-label="sched_time_note" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.StartHour" ng-options="dstHours for dstHours in systemTime.options.dstHours"></select></div></div></div></div><div class="col-md-12"><div class="card-subtitle margin-bottom-subtitle padding" ng-bind="'ntp_saving_time_end' | translate"></div><div class="col-md-6 ntp_block"><div class="ntp_selectBox_block"><div nw-field nw-label="ntp_manual_month" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.EndMonth" ng-options="month as 'ntp_month_' + month | translate for month in systemTime.options.months track by month"></select></div></div><div class="ntp_selectBox_block" style="margin-left: 3%;"><div nw-field nw-label="ntp_week" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.EndWeek" ng-options="week as 'ntp_week_' + week | translate for week in systemTime.options.weeks track by week"></select></div></div></div><div class="col-md-6 ntp_block"><div class="ntp_selectBox_block"><div nw-field nw-label="ntp_week_day" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.EndWeekDays" ng-options="weekDay as weekDay.label | translate for weekDay in systemTime.options.weekDays track by weekDay.value"></select></div></div><div class="ntp_selectBox_block" style="margin-left: 3%;"><div nw-field nw-label="sched_time_note" nw-disabled="customRules.DisableNTPTime" nw-required><select ng-model="systemTime.data.DST.EndHour" ng-options="dstHours for dstHours in systemTime.options.dstHours"></select></div></div></div></div></div></div><div class="col-md-6 block-right"><div ng-if="!systemTime.data.ntp.Enable"><div class="card-subtitle margin-bottom-subtitle" ng-bind="'ntp_manual_title' | translate"></div><div nw-field nw-label="ntp_manual_year" nw-disabled="customRules.DisableNTPTime"><select ng-model="systemTime.data.time.Year" ng-options="year for year in systemTime.options.years"></select></div><div nw-field nw-label="ntp_manual_month" nw-disabled="customRules.DisableNTPTime"><select ng-model="systemTime.data.time.Month" ng-options="month as 'ntp_month_' + month | translate for month in systemTime.options.months"></select></div><div nw-field nw-label="ntp_manual_day" nw-disabled="customRules.DisableNTPTime"><select ng-model="systemTime.data.time.Day" ng-options="day for day in systemTime.options.days"></select></div><div nw-field nw-label="ntp_manual_hour" nw-disabled="customRules.DisableNTPTime"><select ng-model="systemTime.data.time.Hour" ng-options="hour for hour in systemTime.options.hours"></select></div><div nw-field nw-label="ntp_manual_min" nw-disabled="customRules.DisableNTPTime"><select ng-model="systemTime.data.time.Minute" ng-options="min for min in systemTime.options.mins"></select></div><div class="button_block right"><button type="button" ng-click="systemTime.setLocalTime()" ng-if="!systemTime.data.ntp.Enable" ng-disabled="customRules.DisableSetLocalTime" class="colored flat">{{'ntp_set_local_time' | translate}}</button></div></div></div></div></div></div><div class="card-action"><div class="left"><button type="submit" class="colored" ng-disabled="!systemTime.wasModified()" ng-if="!customRules.HideNTPApplyBtn">{{'act_apply' | translate}}</button></div></div></form></div>
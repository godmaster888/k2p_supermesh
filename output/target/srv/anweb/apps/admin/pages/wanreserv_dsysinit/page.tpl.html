<form name="form" class="css-form" novalidate nw-form ng-submit="wanreserv.apply()" unsaved-backup-status="{{!wanreserv.wasModified()}}"><div ng-if="wanreserv.isActivate"><div class="main-card"><div class="card-content"><div class="row-grid bottom-space"><div class="col-md-12"><div class="card-title" ng-bind="((autoconf.BR2_PACKAGE_ANWEB_HQ_ADMIN_APP) ? 'wanreserv_nav_failover': 'wanreserv_nav') | translate"></div><div class="card-desc" ng-bind="((autoconf.BR2_PACKAGE_ANWEB_HQ_ADMIN_APP) ? 'wanreserv_nav_failover_desc' : 'wanreserv_nav_desc') | translate"></div></div></div><div class="row-grid" ng-if="!wanreserv.hasConnections()"><div class="col-md-12"><div alert="info">{{wanreserv.getEmptyAlert()}}</div></div></div><div ng-if="wanreserv.hasConnections()"><div class="row-grid {{wanreserv.data.FailoverEnable ? 'bottom-space' : ''}}"><div nw-labeled-switch nw-label="act_enable" nw-model="wanreserv.data.FailoverEnable" nw-disabled="customRules.DisableWanReservEnable"></div></div><div class="row-grid" ng-if="wanreserv.data.FailoverEnable"><div class="col-md-6 block-left"><div class="row-grid bottom-space"><div class="table bottom-space" nw-table nw-table-title="{{wanreserv.getConnsTitle('IPv4')}}" nw-table-desc="{{'wanreserv_connection_desc' | translate}}"><table><thead><tr><th ng-bind="'connection' | translate"></th><th ng-bind="'wanreserv_conn_check' | translate"></th></tr></thead><tbody><tr ng-repeat="($inx, item) in wanreserv.data.Connections.IPv4" nw-mini-table nw-mini-table-caption="item.Name" nw-mini-table-details="wanreserv.getMiniTableShort(item)" ng-click="wanreserv.editConn(item, $inx, 'IPv4')" class="clickable"><td ng-bind="item.Name"></td><td ng-bind="wanreserv.getStatus(item.Check)"></td></tr></tbody></table></div></div></div><div class="col-md-6 block-right"><div class="row-grid"><div class="card-subtitle" ng-bind="'wanreserv_conn_check' | translate"></div></div><div class="row-grid"><div nw-field nw-label="wanreserv_interval" nw-required ng-if="wanreserv.isSupported('RecheckTimeout')" nw-disabled="customRules.DisableWanReservInterval"><input nw-number nw-min="{{wanreserv.data.ConnCheck.MinMax.RecheckTimeout.min}}" nw-max="{{wanreserv.data.ConnCheck.MinMax.RecheckTimeout.max}}" ng-model="wanreserv.data.ConnCheck.RecheckTimeout" nw-custom-valid="wanreserv.checkRecheckTimeout()"></div><div nw-field nw-label="{{wanreserv.getTimeLabel('timeout')}}" nw-required ng-if="wanreserv.isSupported('PingTimeout')" nw-disabled="customRules.DisableWanReservePingTimeout"><input nw-number nw-min="{{wanreserv.data.ConnCheck.MinMax.PingTimeout.min}}" nw-max="{{wanreserv.data.ConnCheck.MinMax.PingTimeout.max}}" ng-model="wanreserv.data.ConnCheck.PingTimeout"></div><div nw-field nw-label="retries" nw-required ng-if="wanreserv.isSupported('PingRetries')" nw-disabled="customRules.DisableWanReservPingRetries"><input nw-number nw-min="{{wanreserv.data.ConnCheck.MinMax.PingRetries.min}}" nw-max="{{wanreserv.data.ConnCheck.MinMax.PingRetries.max}}" ng-model="wanreserv.data.ConnCheck.PingRetries"></div><div class="note description"><span>{{ 'wanreserv_ping_retries_desc' | translate }}</span></div><div class="row-grid"><div class="changing_list"><div class="card-subtitle" ng-bind="'wanreserv_hosts' | translate"></div><div class="note" ng-bind="'wanreserv_hosts_empty' | translate" ng-if="!wanreserv.data.ConnCheck.Hosts.length"></div><div class="input_with_action" ng-repeat="host in wanreserv.data.ConnCheck.Hosts track by $index"><div nw-field nw-required><input ng-model="wanreserv.data.ConnCheck.Hosts[$index].Value" nw-custom-valid="wanreserv.checkHost(wanreserv.data.ConnCheck.Hosts[$index].Value, $index)"></div><div class="input_action" ng-hide="wanreserv.disableRemoveHost()" ng-click="wanreserv.removeHost($index)">Ã—</div></div><div class="button_block right"><input type="button" ng-click="wanreserv.addHost()" value="{{'wanreserv_add_host_button' | translate}}" class="colored flat"></div></div></div></div></div></div></div></div><div class="card-action" ng-if="wanreserv.hasConnections()"><button type="submit" class="colored" ng-disabled="!wanreserv.wasModified()" ng-hide="customRules.HideWanReservButtonApply">{{'act_apply' | translate}}</button></div></div></div></form>
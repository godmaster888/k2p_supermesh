<div class="main-card"><form name="vlan_form" nw-form unsaved-warning-form ng-submit="vlan.apply()" unsaved-backup-status="{{!vlan.wasModified()}}"><div ng-if="vlan.isActivate"><div class="card-content"><div class="row-grid"><div class="col-md-6 block-left"><div class="card-title" ng-bind="'VLAN'"></div><div nw-field nw-label="vlan_name" nw-required><input ng-model="vlan.rule.Vlan.Name" nw-not-cyrillic-char nw-custom-valid="vlan.checkName(vlan.rule.Vlan.Name, 'Vlan', 'Name')"></div><div nw-field nw-label="{{ (vlan.isVIDasRange() ? 'vlan_vid_start' : 'vlan_vid') | translate }}" nw-required="vlan.isRequiredVID()" ng-if="vlan.isRequiredVID()" nw-disabled="autoconf.BR2_PACKAGE_ANWEB_SWITCH && !vlan.isNew()"><input nw-number nw-min="{{vlan.constraints.VID.min}}" nw-max="{{vlan.constraints.VID.max}}" ng-model="vlan.rule.Vlan.VID" nw-custom-valid="vlan.checkUnique(vlan.rule.Vlan.VID, 'Vlan', 'VID')"></div><div nw-labeled-switch nw-disabled="vlan.disabledDualLAN()" nw-label="vlan_use_dual_lan" nw-model="vlan.rule.DualLAN.Enable" ng-if="vlan.supportDualLAN()" nw-change="vlan.changeDualLAN(vlan.rule.DualLAN.Enable)"></div><div nw-field nw-label="vlan_qos" ng-if="autoconf.BR2_PACKAGE_ANWEB_SUPPORT_VLAN_PRIORITY && vlan.needShowQos()" nw-required><input nw-number nw-min="0" nw-max="7" ng-model="vlan.rule.Vlan.VPR"></div></div><div class="col-md-6 block-right" ng-if="vlan.rule.Mode == 'Firewall'
						|| autoconf.BR2_PACKAGE_ANWEB_VLAN_IFACE_FLAG"><div class="card-title" ng-bind="'interface' | translate"></div><div class="card-desc" ng-bind="'vlan_create_interface' | translate"></div><div nw-labeled-switch nw-disabled="vlan.rule.Iface.Use" nw-label="vlan_create_iface" nw-model="vlan.rule.Iface.CreateIface"></div><div class="note" ng-if="vlan.rule.Iface.Use" ng-bind="vlan.getIfaceNote()"></div><div nw-field nw-label="name" nw-required nw-disabled="!vlan.rule.Iface.CreateIface" ng-if="vlan.rule.Mode == 'Firewall'"><input ng-model="vlan.rule.Iface.Name" nw-custom-valid="vlan.checkUnique(vlan.rule.Iface.Name, 'Iface', 'Name')"></div></div></div><div class="row-grid"><div class="col-md-12"><div class="ports_vlan_switch"><div class="error_ports" ng-if="vlan.errorPorts" ng-bind="'vlan_ports_not_selected_warning' | translate"></div><div ng-repeat="type in vlan.portsTypes()"><div class="card-subtitle" ng-bind="type | translate"></div><div class="note" ng-bind-html="vlan.getEogreNote()" ng-if="type == 'eogre_iface'"></div><div class="note" ng-bind-html="vlan.getEoipNote()" ng-if="type == 'eoip_iface'"></div><div class="port-block port-block-simple" ng-class="{'port-block--blocked': vlan.isManagementPort(port) || vlan.isAnotherSwitch(port)}" ng-repeat="(inx, port) in vlan.getPorts(vlan.rule.Ports, type)"><div class="port-block__icon {{vlan.getIfaceIcon(type, port)}}"></div><div class="port-block__info"><div class="tooltip" ng-if="(vlan.supportDualLAN() && vlan.notIncludedPort(port))">{{'vlan_dual_lan_enabled' | translate}}</div><div class="port-block__title"><div class="port-block__name-text" ng-bind="port.Name" data_attr="{{port.Name}}"></div><div class="managment-icon" ng-if="vlan.isManagementPort(port)"><div class="tooltip">{{'summary_on_this_port' | translate}}</div></div></div><div class="port-block__title" ng-if="(type == 'eogre_iface' || type == 'eoip_iface') && port.isTag"><div class="port-block__name">{{ 'Tag ID:' + port.TagID}}</div></div><div class="port-block__select"><div nw-field nw-label="vlan_type" nw-disabled="vlan.isManagementPort(port) || (vlan.supportDualLAN() && vlan.notIncludedPort(port)) || vlan.isAnotherSwitch(port)"><select ng-model="port.Vlan.Tag" ng-options="item.value as item.label | translate for item in (vlan.portTypeList[port.Type + port.Inst] || [])" ng-change="vlan.changedTag(inx, port.Type)"></select></div></div></div></div></div></div></div></div></div><div class="card-action"><button type="submit" class="colored" ng-disabled="!vlan.wasModified()" ng-bind="'act_apply' | translate"></button></div></div></form></div>
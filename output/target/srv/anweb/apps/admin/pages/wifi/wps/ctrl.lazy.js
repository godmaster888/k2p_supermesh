"use strict";!function(){angular.module("app").controllerProvider.register("wifiWPSCtrl",["$scope","$state","translate","devinfo","translate","wifiWpsUtil","ngDialog","funcs","wifiWpsShared",function($scope,$state,$timeout,devinfo,translate,util,ngDialog,funcs,shared){function changeBand(freq){$scope.wifi.band.state=freq,device.wifi.setBandFreq(freq);var band=device.wifi.getBand(0);$scope.wifi.multiWPS=band.radio.MultiWPS,load(freq),$state.go(".",{freq:freq},{notify:!1,reload:!0})}function load(freq){var nowHref=location.href.split("#")[1],freqArr=nowHref.split("=");freqArr[1]=freq;var newHref=freqArr.join("=");location.href="#"+newHref}$state.params.inx||"1";var device=$scope.device;$scope.wifi={isActivate:!1,multiWPS:!1,needUpdate:!0},$scope.wifi.band={list:[],state:null,change:changeBand,load:load,translateBand:function(key){return translate("2.4GHz"==key?"24ghz":"5ghz")}},function(){shared.activate().then(function(){$scope.wifi.band.list.length=0,device.wifi.hasBand("2.4GHz")&&$scope.wifi.band.list.push("2.4GHz"),device.wifi.hasBand("5GHz")&&$scope.wifi.band.list.push("5GHz");var freq=$state.params.freq?$state.params.freq:_.first($scope.wifi.band.list);$scope.wifi.band.state=freq,device.wifi.setBandFreq(freq),$scope.wifi.multiWPS=device.wifi.getBand(0).radio.MultiWPS,changeBand(freq),$scope.wifi.isActivate=!0,$scope.wifi.needUpdate=!1,$scope.$emit("pageload")})}()}])}();
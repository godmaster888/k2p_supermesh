"use strict";!function(){angular.module("app").service("wifiRoamingUtil",["funcs","cpe","device",function(funcs,cpe,device){function apply(data){var input=converter.nativeToDsysinit(data),diff=funcs.newConfig.makeDiff(__initConfig,input,attrs);return _.isEmpty(diff)?Promise.resolve():cpe.ApplyDifference(diff)}function getConfig(){return config?config.roaming:{}}var config=null,__initConfig=null,attrs=null,path="Device.Services.Roamd.",converter=device.wifiRoaming.converter;return{pull:function(){return Promise.all([cpe.GetParameterValues([path]),cpe.GetParameterAttributes([path])]).then(function(response){var data=funcs.buildTree(response[0].result.ParameterList);return __initConfig=funcs.deepClone(data),config=converter.dsysinitToNative(data),attrs=funcs.buildTreeAttributes(response[1].result.ParameterList),Promise.resolve()})["catch"](function(){return Promise.reject()})},apply:apply,getConfig:getConfig}}])}();
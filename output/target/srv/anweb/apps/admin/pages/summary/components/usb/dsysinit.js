"use strict";!function(){angular.module("app").service("utilSummaryUsb",["device","funcs",function(device,funcs){var sections=[],paths={dongle:"Device.USB.Modem.",storage:"Device.USB.Storage.",printserver:"Device.Services.PrintServer."},convertDongle=device.usbmodemBasic.converter?device.usbmodemBasic.converter.dsysinitToNative:function(){},convertStorage=device.usbInfo.dsysinitToNative?device.usbInfo.dsysinitToNative:function(){};return sections.push({section:"dongle",area:paths.dongle,convert:convertDongle}),sections.push({section:"storage",area:paths.storage,convert:convertStorage}),sections.push({section:"print",area:paths.printserver,convert:function(data){return data=funcs.fetchBranch(data,paths.printserver),data?{enable:data.Enable,connected:"Enabled"==data.Status}:{}}}),{convert:function(input){if(!input)return null;var result={};return _.each(sections,function(elem){input[elem.area]&&(_.has(elem,"convert")?elem.convert&&(result[elem.section]="dongle"!=elem.section?elem.convert(input[elem.area]):elem.convert(input[elem.area]).Modems):result[elem.section]=input[elem.area])}),result},getAreas:function(){return _.pluck(sections,"area").join("|")}}}])}();
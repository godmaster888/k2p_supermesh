"use strict";angular.module("app").controllerProvider.register("networkStatsCtrl",["$scope","devinfo","ngDialog","funcs","translate","statsNetworkUtil","navigationFilter",function($scope,devinfo,ngDialog,funcs,translate,util,navFilter){$scope.navRules=navFilter.rules()||{};var navRules=$scope.navRules;util.subscribeInfo(function(data){$scope.networkStats=data,$scope.$emit("pageload")},$scope),$scope.getIpv6Gw=function(item,inx){var gw=_.isUndefined(inx)?item.GW:item.GW[inx],gw6=_.isUndefined(inx)?item.GW6:item.GW6?item.GW6[inx]:void 0;return funcs.is.ipv6(gw)?gw:gw6},$scope.needShowRxTxErrors=function(){return $scope.networkStats&&$scope.networkStats[0]&&"undefined"!=$scope.networkStats[0].rx_errs&&"undefined"!=$scope.networkStats[0].tx_errs&&!navRules.HideStatNetRxTxErrors},$scope.getShortTitleClass=function(item){return"up"==item.State?"green":"red"},$scope.getShort=function(ipv4,ipv6){return _.isUndefined(ipv4)?_.isUndefined(ipv6)?void 0:ipv6cut(ipv6):ipv4},$scope.showDetails=function(item){navRules.HideStatNetRxTxErrors&&(item=_.omit(item,"RxTxErrors")),devinfo.suspend();var dlg=ngDialog.open({template:"/admin/dialogs/stats/net_stat_details/dialog.tpl.html",controller:"netStatDetailsCtrl",resolve:funcs.getLazyResolve("/admin/dialogs/stats/net_stat_details/ctrl.lazy.js","netStatDetailsCtrl"),data:{header:item.Name,model:item}});dlg.closePromise.then(function(){devinfo.resume()})},$scope.isArray=function(elem){return _.isArray(elem)}}]);
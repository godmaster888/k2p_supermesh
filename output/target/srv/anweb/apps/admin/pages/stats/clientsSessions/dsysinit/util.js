"use strict";!function(){angular.module("app").service("statsClientsUtil",["funcs","device","cpe","devinfo","statsClientsConstants",function(funcs,device,cpe,devinfo,constants){var converter=device.statsClients.converter;return{subscribeInfo:function(cb,$scope){devinfo.onceAndSubscribe(constants.clients+"|"+constants.interfaces+"|"+constants.switchPath,function(response){var clients,interfaces,switchData,input,data;response&&response[constants.clients]&&(clients=funcs.splitTree(response[constants.clients]),interfaces=funcs.splitTree(response[constants.interfaces]),switchData=funcs.splitTree(response[constants.switchPath]),input=funcs.buildTree(clients.concat(interfaces,switchData)),data=converter.dsysinitToNative(input),data=_.filter(data,function(e){return!e.upstream}),cb&&cb(data))},$scope)}}}])}();
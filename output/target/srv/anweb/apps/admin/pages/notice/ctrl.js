"use strict";angular.module("app").controller("NoticeCtrl",["$rootScope","$scope","$state","$timeout","$window","translate","noticeUtil","device","funcs",function($rootScope,$scope,$state,$timeout,$window,translate,notice){$scope.notifications=[],notice.subscribe(function(){function isNew(name){return _.every($scope.notifications,function(elem){return elem.name!=name})}function addToList(name,view,index){var item={name:name,view:view};return _.isUndefined(index)?void $scope.notifications.push(item):void $scope.notifications.splice(index,0,item)}var list=notice.getList(),names=_.pluck(list,"name");!function(names){var index,name;for(index=$scope.notifications.length-1;index>=0;index--)name=$scope.notifications[index].name,_.contains(names,name)||$scope.notifications.splice(index,1)}(names),_.each(list,function(elem,index){var name=elem.name;elem.params;var content=elem.view;elem.view&&isNew(name)&&addToList(name,content,index)})}),$scope.$emit("pageload")}]);
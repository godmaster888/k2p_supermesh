"use strict";!function(){angular.module("app").service("storageInfoUtil",["funcs","device","cpe","devinfo",function(funcs,device,cpe,devinfo){var path="Device.USB.Storage.",converter=device.usbInfo;return{subscribeInfo:function(cb,$scope){devinfo.subscribe(path,function(response){var data;response&&response[path]&&(data=converter.dsysinitToNative(response[path]),cb&&cb(data))},$scope)},unmountUsb:function(storages){var usbArray=_.isArray(storages)?storages:[storages],paths=[];_.each(usbArray,function(elem){paths.push(path+elem.__id+".Umount")});var queue=_.map(paths,function(elem){return cpe.Execute(elem,void 0)});return Promise.all(queue)}}}])}();
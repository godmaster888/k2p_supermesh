<div class="view-general-line" ng-show="servers.list.length > 1" ng-if="vpn.isActivate"><span class="view-general-tabs" ng-repeat="key in servers.list" ng-click="servers.change(key)" ng-class="{'view-general-tabs--active': key == servers.state}" ng-bind="key"></span></div><div class="main-card"><form name="form" id="form" class="css-form" novalidate nw-form unsaved-warning-form ng-submit="vpn.apply()" unsaved-backup-status="{{!vpn.wasModified()}}"><div class="card-content"><div class="row-grid bottom-space" ng-if="vpn.isEmptyUsers('all')"><div alert="info" nw-bind-html-compile="'vpn_server_not_users' | translate"></div></div><div class="row-grid"><div nw-labeled-switch nw-label="act_enable" nw-model="vpn.data.Enable" nw-disabled="vpn.isEmptyUsers('all')"></div></div><div class="row-grid bottom-space" ng-if="vpn.data.Enable"><div class="col-md-6 block-left"><div class="row-grid"><div class="card-subtitle" ng-bind="'vpn_server_network_title' | translate"></div><div nw-field nw-label="vpn_server_assigned_ip" nw-required><input ng-model="vpn.data.AssignedIP" nw-custom-valid="vpn.validationAssignedIP(value)"></div><div nw-field nw-label="vpn_server_client_min_addr" nw-required><input nw-type="ipv4" ng-model="vpn.data.Clients.MinAddress" nw-custom-valid="vpn.validationRange(value, 'MinAddress', 'Clients')"></div><div nw-field nw-label="vpn_server_client_max_addr" nw-required><input nw-type="ipv4" ng-model="vpn.data.Clients.MaxAddress" nw-custom-valid="vpn.validationRange(value, 'MaxAddress', 'Clients')"></div><div nw-field nw-label="iface" nw-required><select ng-model="vpn.data.ListenIP" ng-options="option.value as (option.name | translate) for option in vpn.ConnList"></select></div></div><div class="row-grid"><div class="card-subtitle" ng-bind="'vpn_server_auth' | translate"></div><div nw-labeled-switch nw-label="vpn_server_auth_en" nw-model="vpn.data.PPP.Auth.Enabled"></div><div ng-if="vpn.data.PPP.Auth.Enabled"><div nw-field nw-label="vpn_server_auth_conn_per_login"><select ng-model="vpn.data.PPP.Auth.OneConnectionPerLogin" ng-options="option.value as (option.name | translate) for option in vpn.getConnLoginList()"></select></div><div nw-field nw-label="CHAP"><select ng-model="vpn.data.PPP.Auth.CHAP" ng-options="option.value as (option.name | translate) for option in vpn.AuthList"></select></div><div nw-field nw-label="MSCHAP"><select ng-model="vpn.data.PPP.Auth.MSCHAP" ng-options="option.value as (option.name | translate) for option in vpn.AuthList"></select></div><div nw-field nw-label="MSCHAPv2"><select ng-model="vpn.data.PPP.Auth.MSCHAPv2" ng-options="option.value as (option.name | translate) for option in vpn.AuthList"></select></div><div nw-field nw-label="PAP"><select ng-model="vpn.data.PPP.Auth.PAP" ng-options="option.value as (option.name | translate) for option in vpn.AuthList"></select></div></div><div class="card-subtitle" ng-bind="'vpn_server_mppe' | translate"></div><div nw-labeled-switch nw-label="vpn_server_mppe_enable" nw-model="vpn.data.PPP.MPPE.Require" nw-disabled="vpn.mppeDisabled()"></div><div class="note" ng-bind="'vpn_server_mppe_note' | translate"></div><div ng-if="vpn.data.PPP.MPPE.Require"><div nw-field nw-label="MPPE40" nw-disabled="vpn.mppeDisabled()"><select ng-model="vpn.data.PPP.MPPE.MPPE40" ng-options="option.value as (option.name | translate) for option in vpn.AuthList"></select></div><div nw-field nw-label="MPPE128" nw-disabled="vpn.mppeDisabled()"><select ng-model="vpn.data.PPP.MPPE.MPPE128" ng-options="option.value as (option.name | translate) for option in vpn.AuthList"></select></div></div></div></div><div class="col-md-6 block-right"><div class="row-grid" ng-if="vpn.isShow('Firewall.')"><div class="card-subtitle" ng-bind="'vpn_server_firewall_title' | translate"></div><div nw-field nw-label="{{vpn.getLabel('lan_nav', 'all')}}" nw-required ng-if="vpn.isShow('Firewall.VPNtoLANPolicy')"><select ng-model="vpn.data.Firewall.VPNtoLANPolicy" ng-options="option.value as (option.name | translate) for option in vpn.PolicyList"><option style="display:none" value>{{ 'wifi_supermesh_uplink_type_unknown' | translate }}</option></select></div><div nw-field nw-label="{{vpn.getLabel('WAN', 'all')}}" nw-required ng-if="vpn.isShow('Firewall.VPNtoWANPolicy')"><select ng-model="vpn.data.Firewall.VPNtoWANPolicy" ng-options="option.value as (option.name | translate) for option in vpn.PolicyList"><option style="display:none" value>{{ 'wifi_supermesh_uplink_type_unknown' | translate }}</option></select></div><div nw-field nw-label="{{vpn.getLabel('pon_devmode_0', 'right')}}" nw-required ng-if="vpn.isShow('Firewall.VPNtoFWPolicy')"><select ng-model="vpn.data.Firewall.VPNtoFWPolicy" ng-options="option.value as (option.name | translate) for option in vpn.PolicyList"><option style="display:none" value>{{ 'wifi_supermesh_uplink_type_unknown' | translate }}</option></select></div><div nw-labeled-switch nw-label="NAT VPN -> WAN" nw-model="vpn.data.Firewall.MasqWANEnabled" ng-if="vpn.isShow('Firewall.MasqWANEnabled')"></div><div nw-labeled-switch nw-label="NAT VPN -> LAN" nw-model="vpn.data.Firewall.MasqLANEnabled" ng-if="vpn.isShow('Firewall.MasqLANEnabled')"></div></div><div class="row-grid"><div class="card-subtitle" ng-bind="'advanced_nav_desc' | translate"></div><div nw-field nw-label="port" nw-required ng-if="vpn.isShow('ListenPort')"><input ng-model="vpn.data.ListenPort" nw-number nw-min="1023" nw-max="65536"></div><div nw-field nw-label="vpn_server_max_connections" nw-required ng-if="vpn.isShow('MaxConnections')"><input ng-model="vpn.data.MaxConnections" nw-number nw-min="1" nw-max="150"></div><div nw-field nw-label="MTU" nw-required><input nw-number ng-model="vpn.data.PPP.MTU" nw-min="1200" nw-max="1500"></div><div nw-labeled-switch nw-label="vpn_server_debug_ppp" nw-model="vpn.data.PPP.DebugPPP"></div><div class="card-subtitle" ng-bind="'dns_nav' | translate"></div><div nw-labeled-switch nw-label="wan_dns_automatically" nw-model="vpn.data.PPP.DNS.UserPeerDNS"></div><div class="note" ng-bind="'vpn_server_dns_automatically_note' | translate"></div><div nw-field nw-label="wan_dns_prim" nw-disabled="vpn.data.PPP.DNS.UserPeerDNS" nw-required><input nw-type="ipv4" ng-model="vpn.data.PPP.DNS.Primary"></div><div nw-field nw-label="wan_dns_sec" nw-disabled="vpn.data.PPP.DNS.UserPeerDNS"><input nw-type="ipv4" ng-model="vpn.data.PPP.DNS.Secondary" nw-custom-valid="vpn.validationDns(vpn.data.PPP.DNS.Secondary)"></div></div></div></div><div class="row-grid" ng-if="vpn.data.Enable"><div class="table" nw-table-empty-status="vpn.isEmptyUsers('current')" nw-table-empty-title="sysusers_list" nw-table-empty_subtitle="vpn_server_users_empty_message" nw-table-empty-button="act_add" nw-table-empty-button-click="vpn.addUser()" nw-table nw-table-title="sysusers_list" nw-table-on-add="vpn.addUser()" nw-table-on-add-disable="vpn.addUserDisabled()" nw-table-on-delete="vpn.removeUsers(items, keys)" nw-table-on-edit="vpn.editUser(item, key)" nw-table-selected><table><thead><tr><th ng-bind="'username' | translate"></th><th ng-bind="'ip_address' | translate"></th></tr></thead><tbody><tr ng-repeat="item in vpn.data.Users" nw-mini-table nw-mini-table-caption="vpn.getUserName(item.User)" nw-mini-table-details="vpn.getUserIPRange(item.Range)"><td ng-bind="vpn.getUserName(item.User)"></td><td ng-bind="vpn.getUserIPRange(item.Range)"></td></tr></tbody></table></div></div></div><div class="card-action"><button type="submit" class="colored" ng-disabled="!vpn.wasModified()" ng-bind="'act_apply' | translate"></button></div></form></div>
"use strict";!function(){angular.module("app").controllerProvider.register("AutoconnectCtrl",["$scope","$state","AutoconnectUtil",function($scope,$state,util){function activate(){function stopOverlay(){null!=overlayId&&($scope.overlay.circular.stop(overlayId),overlayId=null)}util.pull().then(function(){$scope.autoconnect.data=util.getData(),$scope.autoconnect.backup=angular.copy($scope.autoconnect.data),$scope.$emit("pageload")})["catch"](function(){$state.go("error",{code:"msg_pull_error",message:"msg_error_desc"})})["finally"](stopOverlay)}$scope.autoconnect={data:null,backup:null,apply:function(){function error(){$scope.overlay.circular.stop(overlayId),overlayId=null,$state.go("error",{code:"msg_push_error",message:"msg_error_desc"})}overlayId=$scope.overlay.circular.start(),util.apply($scope.autoconnect.data).then(activate)["catch"](error)},wasModified:function(){return $scope.autoconnect.data&&$scope.autoconnect.backup&&!_.isEqual($scope.autoconnect.backup,$scope.autoconnect.data)}};var overlayId=null;activate()}])}();
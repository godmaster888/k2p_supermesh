<div class="dialog_top_line"><div class="dialog_close_mobile" ng-click="closeThisDialog()"><svg svg-icon="back_arrow"/></div><div class="dialog_title_text" ng-bind="header | translate"></div><div class="dialog_close" ng-click="closeThisDialog()"><svg svg-icon="cross-medium"/></div></div><form name="raccess_form" id="raccess_form" class="dialog_content_wrapper" nw-form ng-submit="save()"><div class="dialog_content"><div nw-field nw-label="ip_version" ng-if="config.AvailIPv6"><select ng-model="ipVersion.value" ng-options="version | translate for version in ipVersion.list"></select></div><div nw-labeled-switch nw-label="raccess_enable_all" nw-model="enableAll" nw-change="changeEnabled(enableAll)"></div><div ng-if="!enableAll"><div ng-if="!autoconf.BR2_PACKAGE_ANWEB_SUPPORT_MULTI_IP && ipVersion.value == 'ipv4'"><div nw-field nw-label="ip_address" nw-required><input ng-model="rule.IPs" nw-custom-valid="validateNetworkIpv4(rule.IPs, rule.Mask)"></div><div nw-field nw-label="net_mask" nw-required><input ng-model="rule.Mask" nw-network-validation="subnetMask" nw-network-subnet-mask="rule.Mask" nw-autocomplete-network-ip-address-value="{{rule.IPs}}" nw-autocomplete-network-subnet-mask nw-autocomplete-network-subnet-mask-min-hosts="0" nw-autocomplete-use-end-address></div></div><div ng-if="!autoconf.BR2_PACKAGE_ANWEB_SUPPORT_MULTI_IP && ipVersion.value == 'ipv6'"><div nw-field nw-label="ip_address" nw-required><input ng-model="rule.IPs" nw-custom-valid="validateNetworkIpv6(rule.IPs)"></div><div class="note" ng-bind="'raccess_ipv6_description' | translate"></div></div></div><div nw-field nw-label="raccess_public_port" nw-required nw-disabled="autoconf.BR2_PACKAGE_ANWEB_RACCESS_PUBLIC_PORT_DISABLED" ng-if="ipVersion.value === 'ipv4' && showProtocol"><input nw-number nw-number-type="string" nw-min="1" nw-max="65535" ng-model="rule.Ports.Source" nw-custom-valid="checkPort()"></div><div nw-field nw-label="protocol"><select ng-model="rule.Ports.Dest" ng-options="option.Value as getProtocolName(option.Name) for option in protocols" ng-change="changeProtocol(rule.Ports.Dest)"></select></div></div><div class="dialog_button_panel button_block right"><button class="colored flat" type="submit" ng-bind="'act_save'|translate" ng-disabled="isSavingDisabled()"></button></div></form>
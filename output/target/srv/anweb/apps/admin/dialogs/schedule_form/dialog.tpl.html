<div class="dialog_top_line"><div class="dialog_close_mobile" ng-click="dialog.close()"><svg svg-icon="back_arrow"/></div><div class="dialog_title_text" ng-bind="dialog.header | translate"></div><div class="dialog_close" ng-click="dialog.close()"><svg svg-icon="cross-medium"/></div></div><form name="form" class="dialog_content_wrapper" novalidate ng-submit="dialog.save()" nw-form><div class="dialog_content"><div class="dialog_info reminder"><div class="info_text" ng-bind="'sched_ntp_sync' | translate"></div></div><div class="dialog_info inline-full-width" ng-if="dialog.currentTimeDate.hour && dialog.currentTimeDate.minute && dialog.currentTimeDate.day"><div class="info_text" ng-bind="'ntp_nav' | translate"></div>:<div class="info_text">{{dialog.currentTimeDate.day}} {{dialog.currentTimeDate.month | translate}} {{dialog.currentTimeDate.year}}, {{dialog.currentTimeDate.hour}}:{{dialog.currentTimeDate.minute}}</div></div><div class="dialog_info" ng-if="dialog.branches.usingInSchedules && dialog.branches.nowSchedule.length"><div class="info_header" ng-bind="'sched_according_schedule' | translate"></div><div class="info_text" ng-repeat="name in dialog.branches.nowSchedule" ng-bind="name"></div></div><div><div nw-labeled-switch nw-label="sched_enable" nw-model="dialog.manual.enable" ng-show="(!dialog.branches.selectExistingSchedule && !dialog.commands.selected) || dialog.isOnlyBranch"></div><div nw-radio-group nw-model="dialog.mode.name" nw-options="dialog.mode.list" nw-change="dialog.mode.update()"></div><div ng-if="dialog.mode.name == 'simple'"><div class="dialog_info"><div nw-field nw-label="sched_interval_execution"><select ng-model="dialog.templates.current" ng-options="temp.cronWithDuration as (getText(temp) | translate) for temp in dialog.templates.list"></select></div></div><div class="dialog_info" ng-if="dialog.templates.options.setWeekDay"><div nw-control-list nw-control-list-selected nw-control-list-selected-list="dialog.templates.selectedWeekDays" class="inline-control-list"><div ng-repeat="(key, interface) in dialog.templates.weekdays" nw-control-list-item nw-control-list-item-title="'interface.label | translate'"></div></div></div><div nw-field nw-label="sched_day_adv" ng-if="dialog.templates.options.setDay"><input ng-model="dialog.manual.day" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.day, 1, 31)"></div><div class="dialog_info"><span class="info_text" ng-if="dialog.templates.options.setMin" ng-bind="'sched_time_note' | translate"></span><div nw-field nw-label="sched_hour_adv" class="short_field" ng-if="dialog.templates.options.setHour"><input ng-model="dialog.manual.hour" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.hour, 0, 23)"></div><span ng-if="dialog.templates.options.setHour">:</span><div nw-field nw-label="sched_min_adv" class="short_field" ng-if="dialog.templates.options.setMin"><input ng-model="dialog.manual.min" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.min, 0, 59)"></div></div></div><div ng-show="dialog.mode.name == 'advanced'"><div class="note description"><span ng-bind="'sched_advanced_mod_info' | translate"></span></div><div nw-field nw-label="sched_name"><input ng-model="dialog.manual.name"></div><div nw-field nw-label="sched_min_adv"><input ng-model="dialog.manual.min" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.min, 0, 59)"></div><div nw-field nw-label="sched_hour_adv"><input ng-model="dialog.manual.hour" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.hour, 0, 23)"></div><div nw-field nw-label="sched_day_adv"><input ng-model="dialog.manual.day" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.day, 1, 31) ||
                           dialog.valid.checkDate(dialog.manual.day, dialog.manual.month)"></div><div nw-field nw-label="sched_month_adv"><input ng-model="dialog.manual.month" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.month, 1, 12, 'm') ||
                           dialog.valid.checkDate(dialog.manual.day, dialog.manual.month)"></div><div nw-field nw-label="sched_week_day_adv"><input ng-model="dialog.manual.weekDay" nw-custom-valid="dialog.valid.rangeNumbers(dialog.manual.weekDay, 0, 6, 'w')"></div></div><div class="note description" ng-if="dialog.templates.options.setMin || dialog.templates.options.setHour || dialog.templates.options.setDay || dialog.mode.name == 'advanced'"><span ng-bind="'sched_several_param' | translate"></span></div><div class="dialog_info" ng-if="dialog.mode.name == 'advanced'"><div class="info_header">{{'sched_nav' | translate}}:</div><div class="info_text" nw-field>{{dialog.stringInterval}}</div></div><div ng-if="!dialog.commands.selected"><div class="dialog_info"><div class="info_header" ng-bind="'duration' | translate"></div></div><div ng-if="dialog.durationSett.enable"><div nw-field nw-label="sched_duration_days" nw-required nw-disabled="!dialog.branches.isEditable" ng-if="dialog.durationSett.constraints.showDay.status" class="short_field min"><input ng-model="dialog.durationSett.days" nw-number nw-min="0" nw-max="{{dialog.durationSett.constraints.showDay.nwMax}}"></div><div nw-field nw-label="sched_duration_hours" nw-required nw-disabled="!dialog.branches.isEditable" class="short_field min" ng-if="dialog.durationSett.constraints.showHour.status"><input ng-model="dialog.durationSett.hours" nw-number nw-min="0" nw-max="99"></div><div nw-field nw-label="sched_duration_minutes" nw-required nw-disabled="!dialog.branches.isEditable" class="short_field min" ng-if="dialog.durationSett.constraints.showMin.status"><input ng-model="dialog.durationSett.min" nw-number nw-min="0" nw-max="59"></div><div nw-field nw-label="sched_duration_seconds" nw-required nw-disabled="!dialog.branches.isEditable" class="short_field min"><input ng-model="dialog.durationSett.sec" nw-number nw-min="0" nw-max="59"></div></div></div><div class="note description" ng-if="!dialog.branches.selectExistingSchedule && !dialog.durationSett.enable"><span ng-bind="'sched_duration_zero' | translate"></span></div><div ng-if="dialog.durationSett.notSetDurationErr && !dialog.commands.selected" class="dialog_info dialog_alert" alert="danger">{{'sched_duration_more_zero' | translate}}</div><div ng-if="dialog.branches.selectExistingSchedule && !dialog.branches.isEditable" class="dialog_info dialog_alert" alert="info">{{'sched_selected_exist' | translate}}</div><div nw-field nw-label="sched_action_rule" ng-if="dialog.branches.addBranche"><select ng-model="dialog.branches.enableAtStart" ng-options="option.value as (option.name | translate) for option in dialog.branches.enableAtStartModes"></select></div><div ng-if="checkAlreadyAdding()" class="dialog_alert" alert="danger">{{'sched_already_exist' | translate}}</div><div class="dialog_info" ng-if="dialog.tasks.noEmpty"><div class="info_header" ng-bind="'sched_assigned_tasks' | translate"></div><div ng-repeat="item in dialog.tasks.list"><div class="info_href" ng-click="goToTaskPage(item.href)" ng-bind="($index+1) + '. ' + item.Name + ' (' + item.count + ')'"></div></div></div></div></div><div class="dialog_button_panel button_block right"><button type="button" class="colored flat removed" ng-if="dialog.branches.usingInSchedules" ng-click="dialog.branches.deleteBranches()" ng-bind="'sched_delete_from' | translate"></button> <button type="button" class="colored flat removed" ng-if="dialog.commands.rule.length" ng-click="dialog.commands.deleteCmd()" ng-bind="'act_disable' | translate"></button> <button type="submit" class="colored flat" ng-bind="'act_save' | translate" ng-disabled="dialog.isDisabledSave()"></button></div></form>
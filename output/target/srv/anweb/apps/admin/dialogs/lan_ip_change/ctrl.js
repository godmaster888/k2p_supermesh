"use strict";function LanIpChangeDialogCtrl($rootScope,$scope,$interval,translate,$timeout){var data=$scope.ngDialogData;$scope.goToNewIp=function(){$scope.closeThisDialog(),data.goToNewIp(data.newIp)},$scope.timeIsOut=function(status){"finished"==status&&($scope.pbHidden=!0,$scope.commentParam="lan_dlg_ip_autoconnect_failed")},$scope.deviceConnectionRestored=function(){$scope.commentParam="lan_dlg_ip_reconnected",$scope.pbPause=!0,$scope.pbHidden=!0,$scope.deviceAvailable=!0,$scope.connectionRestored=!0},$scope.commentParam="lan_dlg_ip_redirection_wait",$scope.pbDuration=6e4,$scope.pbPause=!1,$scope.pbHidden=!1,$scope.connectionWasLost=!1,$timeout(function(){function setDeviceNotAvailable(){$scope.deviceAvailable=!1,$scope.connectionWasLost=!0,$scope.connectionRestored&&($scope.commentParam="lan_dlg_ip_connection_lost")}function setDeviceAvailableAgain(){$scope.deviceConnectionRestored()}var eventDeviceNotAvailable=$rootScope.$on("device.state.not_available",setDeviceNotAvailable),eventDeviceAvailableAgain=$rootScope.$on("device.state.available_again",setDeviceAvailableAgain),eventDeviceAvailableAgain2=$rootScope.$on("device_available_again",setDeviceAvailableAgain),eventDeviceDefinitlyLost=$rootScope.$on("device_definitly_lost",setDeviceNotAvailable),eventDevicePossiblyLost=$rootScope.$on("device_possibly_lost",setDeviceNotAvailable);$rootScope.deviceMonitorConfig.baseUrl=data.newIp,$scope.$on("$destroy",function(){eventDeviceNotAvailable(),eventDeviceAvailableAgain(),eventDeviceAvailableAgain2(),eventDeviceDefinitlyLost(),eventDevicePossiblyLost()})}),$timeout(function(){$scope.connectionWasLost||$scope.deviceConnectionRestored()},5e3)}LanIpChangeDialogCtrl.$inject=["$rootScope","$scope","$interval","translate","$timeout"];
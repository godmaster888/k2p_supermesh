"use strict";function WifiClientDialogCtrl($scope,$element,translate){function getDefaultKeysID(){return helper.getDefaultKeysID()}var device=$scope.device,helper=device.wifi.helper;$scope.client,$scope.dialog={info:angular.copy($scope.ngDialogData.pointData),data:function(point,client){var isCurrent=$scope.isCurrent=client.BSSID&&point.BSSID.toUpperCase()==client.BSSID.toUpperCase()&&point.Band==client.Band;return!isCurrent&&_.isEmpty(client.BSSID)&&(isCurrent=$scope.isCurrent=client.SSID==point.SSID&&client.Band==point.Band&&client.Channel==point.Channel&&client.Security.ModeEnabled==point.ModeEnabled&&client.Security.EncryptionType==point.EncryptionType),{SSID:point.SSID,BSSID:point.BSSID,Band:isCurrent?client.Band:point.Band,AdvancedChannel:point.AdvancedChannel,Security:{ModeEnabled:point.ModeEnabled,EncryptionType:point.EncryptionType,PreSharedKey:isCurrent?client.Security.PreSharedKey:"",WEPKey1:isCurrent?client.Security.WEPKey1:"",WEPKey2:isCurrent?client.Security.WEPKey2:"",WEPKey3:isCurrent?client.Security.WEPKey3:"",WEPKey4:isCurrent?client.Security.WEPKey4:"",OpenWEP:isCurrent?client.Security.OpenWEP:!1,DefaultKeyID:isCurrent?client.Security.DefaultKeyID:getDefaultKeysID()[0],WEPasHEX:isCurrent?client.Security.WEPasHEX:!1},MacAddressClone:client.MacAddressClone}}($scope.ngDialogData.pointData,$scope.ngDialogData.clientData),apply:function(){if(!$scope.form.$invalid){var data={ep:$scope.dialog.data,radio:{Band:$scope.dialog.info.Band,Channel:$scope.dialog.info.Channel}};data.ep.Action=$scope.isCurrent?"reconnect":"save",$scope.closeThisDialog(data)}},cancel:function(){$scope.closeThisDialog(null)},showAdvanced:!1,getSignalStrength:function(strength){return strength+"%"},showSecurity:function(type){return helper.checkSecurityType(type,$scope.dialog.data)},getDefaultKeysID:getDefaultKeysID,getIncorrectModeNotice:function(){var mode=$scope.dialog.data.Security.ModeEnabled;return translate(wifi_client_incorrect_network_notice1)+" "+mode+" "+translate(wifi_client_incorrect_network_notice2)},isOpen:function(){var mode=$scope.dialog.data.Security.ModeEnabled;return"None"==mode},isWPAEnterprice:function(){var mode=$scope.dialog.data.Security.ModeEnabled;return"WPA-Enterprise"==mode||"WPA2-Enterprise"==mode||"WPA-WPA2-Enterprise"==mode},validPSKKey:function(pskKey){return helper.validPSKKey(pskKey)},validWEPKey:function(wepKey){return $scope.dialog.data?helper.validWEPKey(wepKey,$scope.dialog.data):null},getWEPKeyLenMessage:function(){return $scope.dialog.data?helper.getWEPKeyLenMessage($scope.dialog.data):null}}}
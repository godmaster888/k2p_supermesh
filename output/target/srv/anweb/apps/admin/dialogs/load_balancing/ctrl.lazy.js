"use strict";angular.module("app").controllerProvider.register("loadBalancingConnCtrl",["$scope","funcs","loadBalancingUtil","translate",function($scope,funcs,util,translate){$scope.data=$scope.ngDialogData.data,$scope.index=$scope.ngDialogData.index;var isNew=null==$scope.index,__initialData=funcs.deepClone($scope.data);$scope.WANList=$scope.ngDialogData.wanList,$scope.WeigthTypeList=[{Name:"auto",Value:"auto"},{Name:"ipsec_manual",Value:"manual"}],$scope.wasModified=function(){return isNew?!0:$scope.data&&__initialData&&!_.isEqual(__initialData,$scope.data)},$scope.save=function(){return $scope.balance_wan_form.$valid?(""==$scope.data.Weight&&($scope.data.Weight=0),$scope.closeThisDialog($scope.data)):void 0},$scope.checkUnique=function(conn){return util.isUniqueWAN(conn,$scope.index,$scope.ngDialogData.busyConns)?null:translate("msg_error_value_is_not_uniq")},$scope.changeWeightType=function(){"manual"==$scope.data.WeightType&&0==$scope.data.Weight&&($scope.data.Weight=1)}}]);
"use strict";!function(){function manualStepApiProvider(){function getApi(){return apiContainer?apiContainer:apiContainer=new ApiContainer}function cleanApi(){apiContainer&&apiContainer.destroy(),apiContainer=null}var apiContainer=null;return{get:getApi,clean:cleanApi}}function ApiContainer(){this.stepsApi={}}function StepApi(params){this.name=params.name,this.leaveHandler=params.onLeave,this.activateHandler=params.onActivate,this.nextHandler=params.onNext,this.prevHandler=params.onPrev}angular.module("wizard").factory("manualStepApiDispatcher",manualStepApiProvider),manualStepApiProvider.$inject=[],_.extend(ApiContainer.prototype,{registerStepApi:function(params){if(!this.stepsApi[params.name]){var api=new StepApi(params);this.stepsApi[params.name]=api}},getStepApi:function(stepName){return this.stepsApi[stepName]},setCurrentStepApi:function(stepName){this.currentStep&&this.currentStep.leave(),this.currentStep=this.stepsApi[stepName],this.currentStep&&this.currentStep.activate()},getCurrentStepApi:function(){return this.currentStep},destroy:function(){this.currentStep&&this.currentStep.leave(),this.currentStep=null,this.stepsApi={}}}),_.extend(StepApi.prototype,{_tryCall:function(cb){return _.isFunction(cb)?cb():void 0},activate:function(){this.onActivate()},onActivate:function(){this._tryCall(this.activateHandler)},leave:function(){this.onLeave(this.leaveHandler)},onLeave:function(cb){this._tryCall(cb)},next:function(){return this.onNext()},onNext:function(){return this._tryCall(this.nextHandler)},prev:function(){return this.onPrev()},onPrev:function(){return this._tryCall(this.prevHandler)}})}();